<?xml version="1.0"?>
<configuration platform="PCH_1xx">
<!--
XML configuration file for 100 series PCH based platforms

* Intel(R) 100 Series Chipset Family Platform Controller Hub (PCH)
  http://www.intel.com/content/www/us/en/processors/core/core-technical-resources.html
-->

  <!-- #################################### -->
  <!--                                      -->
  <!-- Information                          -->
  <!--                                      -->
  <!-- #################################### -->
  <info>
    <sku did="0xA143" name="H110" code="PCH_1xx" longname="Intel H110 (100 series) PCH" />
    <sku did="0xA144" name="H170" code="PCH_1xx" longname="Intel H170 (100 series) PCH" />
    <sku did="0xA145" name="Z170" code="PCH_1xx" longname="Intel Z170 (100 series) PCH" />
    <sku did="0xA146" name="Q170" code="PCH_1xx" longname="Intel Q170 (100 series) PCH" />
    <sku did="0xA147" name="Q150" code="PCH_1xx" longname="Intel Q150 (100 series) PCH" />
    <sku did="0xA148" name="B150" code="PCH_1xx" longname="Intel B150 (100 series) PCH" />
    <sku did="0xA149" name="C236" code="PCH_1xx" longname="Intel C236 (100 series) PCH" />
    <sku did="0xA14A" name="C232" code="PCH_1xx" longname="Intel C232 (100 series) PCH" />
    <sku did="0xA14D" name="CQM170" code="PCH_1xx" longname="Intel CQM170 (100 series) PCH" />
    <sku did="0xA14E" name="HM170" code="PCH_1xx" longname="Intel HM170 (100 series) PCH" />
    <sku did="0xA150" name="CM236" code="PCH_1xx" longname="Intel CM236 (100 series) PCH" />
    <sku did="0xA151" name="QMS180" code="PCH_1xx" longname="Intel QMS180 (100 series) PCH" />
    <sku did="0xA152" name="HM175" code="PCH_1xx" longname="Intel HM175 (100 series) PCH" />
    <sku did="0xA153" name="QM175" code="PCH_1xx" longname="Intel QM175 (100 series) PCH" />
    <sku did="0xA154" name="CM238" code="PCH_1xx" longname="Intel CM238 (100 series) PCH" />
    <sku did="0xA155" name="QMU185" code="PCH_1xx" longname="Intel QMU185 (100 series) PCH" />
    <sku did="0x9D43" name="PCH-U" code="PCH_1xx" longname="PCH-U Baseline" />
    <sku did="0x9D48" name="PCH-U" code="PCH_1xx" longname="PCH-U Premium" />
  </info>

  <!-- #################################### -->
  <!--                                      -->
  <!-- Integrated devices                   -->
  <!--                                      -->
  <!-- #################################### -->
  <pci>
  </pci>

  <!-- #################################### -->
  <!--                                      -->
  <!-- Memory Mapped I/O spaces (MMIO BARs) -->
  <!--                                      -->
  <!-- #################################### -->
  <mmio>
    <bar name="SPIBAR"   bus="0" dev="0x1F" fun="5" reg="0x10" width="4" mask="0xFFFFF000"         size="0x1000" desc="SPI Controller Register Range" offset="0x0"/>
  </mmio>

  <!-- #################################### -->
  <!--                                      -->
  <!-- I/O spaces (I/O BARs)                -->
  <!--                                      -->
  <!-- #################################### -->
  <io>
  </io>

  <!-- #################################### -->
  <!--                                      -->
  <!-- Configuration registers              -->
  <!--                                      -->
  <!-- #################################### -->
  <registers>

    <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
    <!-- PCIe Configuration registers -->
    <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->

    <!-- Sideband Register Access Registers -->
    <register name="SBREG_BAR" type="pcicfg" bus="0" dev="0x1F" fun="1" offset="0x10" size="4" desc="Sideband Register Access BAR">
      <field name="RBA" bit="24" size="8" desc="Register Base Address"/>
    </register>



    <!-- Power Management Controller -->
    <register name="ABASE" type="pcicfg" bus="0" dev="0x1f" fun="2" offset="0x40" size="4" desc="ACPI Base Address">
      <field name="STYPE" bit="0" size="1" desc="Space Type (always 1 - I/O space)"/>
      <field name="BA"    bit="8" size="8" desc="Base Address"/>
    </register>
    <register name="ACTL" type="pcicfg" bus="0" dev="0x1f" fun="2" offset="0x44" size="4" desc="ACPI Control">
      <field name="SCIS"    bit="0" size="2" desc="SCI IRQ Select"/>
      <field name="EN"      bit="7" size="1" desc="ACPI Enable"/>
      <field name="PWRM_EN" bit="8" size="1" desc="PWRM Enable"/>
    </register>
    <register name="PWRMBASE" type="pcicfg" bus="0" dev="0x1f" fun="2" offset="0x48" size="4" desc="PM Base Address">
      <field name="STYPE" bit="0"  size="1"  desc="Space Type (always 0 - memory space)"/>
      <field name="BA"    bit="12" size="20" desc="Base Address"/>
    </register>
    <register name="GEN_PMCON_1" type="pcicfg" bus="0" dev="0x1f" fun="2" offset="0xA0" size="2" desc="General PM Configuration A">
      <field name="SMI_LOCK"    bit="4"     size="1"/>
    </register>

    <!-- SMBus Host Controller -->


    <!-- SPI Interface Controller -->


    <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
    <!-- MMIO registers               -->
    <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->

    <!-- PCH SPIBAR registers -->

    <register name="HSFC" type="mmio" bar="SPIBAR" offset="0x06" size="2" desc="Hardware Sequencing Flash Control Register">
      <field name="FGO"    bit="0"  size="1" desc="Flash Cycle GO"/>
      <field name="FCYCLE" bit="1"  size="4" desc="Flash Cycle"/>
      <field name="WET"    bit="5"  size="1" desc="Write Enable Type"/>
      <field name="FDBC"   bit="8"  size="6" desc="Flash Data Byte Count, Count = FDBC + 1"/>
      <field name="FSMIE"  bit="15" size="1" desc="Flash SPI SMI Enable"/>
    </register>

    <register name="PR0" type="mmio" bar="SPIBAR" offset="0x84" size="4" desc="Protected Range 0">
      <field name="PRB" bit="0"  size="13"/>
      <field name="RPE" bit="15" size="1"/>
      <field name="PRL" bit="16" size="15"/>
      <field name="WPE" bit="31" size="1"/>
    </register>
    <register name="PR1" type="mmio" bar="SPIBAR" offset="0x88" size="4" desc="Protected Range 1">
      <field name="PRB" bit="0"  size="13"/>
      <field name="RPE" bit="15" size="1"/>
      <field name="PRL" bit="16" size="15"/>
      <field name="WPE" bit="31" size="1"/>
    </register>
    <register name="PR2" type="mmio" bar="SPIBAR" offset="0x8C" size="4" desc="Protected Range 2">
      <field name="PRB" bit="0"  size="13"/>
      <field name="RPE" bit="15" size="1"/>
      <field name="PRL" bit="16" size="15"/>
      <field name="WPE" bit="31" size="1"/>
    </register>
    <register name="PR3" type="mmio" bar="SPIBAR" offset="0x90" size="4" desc="Protected Range 3">
      <field name="PRB" bit="0"  size="13"/>
      <field name="RPE" bit="15" size="1"/>
      <field name="PRL" bit="16" size="15"/>
      <field name="WPE" bit="31" size="1"/>
    </register>
    <register name="PR4" type="mmio" bar="SPIBAR" offset="0x94" size="4" desc="Protected Range 4">
      <field name="PRB" bit="0"  size="13"/>
      <field name="RPE" bit="15" size="1"/>
      <field name="PRL" bit="16" size="15"/>
      <field name="WPE" bit="31" size="1"/>
    </register>


    <!-- PCH RTC registers -->


    <!-- PMC MMIO registers (6th Generation Intel(R) Processor I/O Datasheet for U/Y-Platforms, Vol. 2, section 4.3) -->
    <register name="PM_CFG" type="mmio" bar="PWRMBASE" offset="0x18" size="4" desc="Power Management Configuration Reg 1"/>
    <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
    <!-- I/O registers (I/O ports)    -->
    <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->

 
    <!-- SPI Flash Descriptor registers -->
    <register name="FLMAP0" type="mmio" bar="FDBAR" offset="0x14" size="4" desc="Flash Map 0 Register">
      <field name="FCBA"    bit="0"  size="8" desc="Flash Component Base Address"/>
      <field name="NC"      bit="8"  size="2" desc="Number of Components"/>
      <field name="FRBA"    bit="16" size="8" desc="Flash Region Base Address"/>
    </register>
    <register name="FLMAP1" type="mmio" bar="FDBAR" offset="0x18" size="4" desc="Flash Map 1 Register">
      <field name="FMBA"    bit="0"  size="8" desc="Flash Master Base Address"/>
      <field name="NM"      bit="8"  size="3" desc="Number of Masters"/>
      <field name="FPSBA"   bit="16" size="8" desc="Flash PCH Strap Base Address"/>
      <field name="PSL"     bit="24" size="8" desc="PCH Strap Length"/>
    </register>
    <register name="FLMAP2" type="mmio" bar="FDBAR" offset="0x1C" size="4" desc="Flash Map 2 Register">
      <field name="FCPUSBA" bit="0"  size="8" desc="Flash CPU Strap Base Address"/>
      <field name="CPUSL"   bit="8"  size="8" desc="CPU Strap Length"/>
    </register>
    <register name="FLREG0" type="mmio" bar="FRBA" offset="0x0" size="4" desc="Flash Region 0 (Flash Descriptor) Register">
      <field name="RB"      bit="0"  size="15" desc="Region Base"/>
      <field name="RL"      bit="16" size="15" desc="Region Limit"/>
    </register>
    <register name="FLREG1" type="mmio" bar="FRBA" offset="0x4" size="4" desc="Flash Region 1 (BIOS) Register">
      <field name="RB"      bit="0"  size="15" desc="Region Base"/>
      <field name="RL"      bit="16" size="15" desc="Region Limit"/>
    </register>
    <register name="FLREG2" type="mmio" bar="FRBA" offset="0x8" size="4" desc="Flash Region 2 (Intel ME) Register">
      <field name="RB"      bit="0"  size="15" desc="Region Base"/>
      <field name="RL"      bit="16" size="15" desc="Region Limit"/>
    </register>
    <register name="FLREG3" type="mmio" bar="FRBA" offset="0xC" size="4" desc="Flash Region 3 (GBe) Register">
      <field name="RB"      bit="0"  size="15" desc="Region Base"/>
      <field name="RL"      bit="16" size="15" desc="Region Limit"/>
    </register>
    <register name="FLREG4" type="mmio" bar="FRBA" offset="0x10" size="4" desc="Flash Region 4 (Platform Data) Register">
      <field name="RB"      bit="0"  size="15" desc="Region Base"/>
      <field name="RL"      bit="16" size="15" desc="Region Limit"/>
    </register>
    <register name="FLREG8" type="mmio" bar="FRBA" offset="0x20" size="4" desc="Flash Region 8 (Embedded Controller) Register">
      <field name="RB"      bit="0"  size="15" desc="Region Base"/>
      <field name="RL"      bit="16" size="15" desc="Region Limit"/>
    </register>
    <register name="FLMSTR1" type="mmio" bar="FMBA" offset="0x0" size="4" desc="Flash Master 1">
      <field name="MRRA"    bit="8"  size="12" desc="Master Region Read Access"/>
      <field name="MRWA"    bit="20" size="12" desc="Master Region Write Access"/>
    </register>

    <!-- DCI registers -->
    <register name="ECTRL" type="mm_msgbus" port="0xB8" offset="0x0004" size="4" desc="DCI Control Register">
      <field name="ENABLE" bit="4" size="1"/>
    </register>



  </registers>

  <!-- #################################### -->
  <!--                                      -->
  <!-- 'Controls'                           -->
  <!--                                      -->
  <!-- #################################### -->
  <controls>
    <control name="BiosInterfaceLockDown"  register="BC"    field="BILD"    desc="BIOS Interface Lock-Down"/>
    <control name="SpiWriteStatusDis"      register="HSFS"  field="WRSDIS"  desc="Write Status Disable"/>
  </controls>

</configuration>
