<?xml version="1.0"?>
<configuration platform="PCH_3xx">
<!--
XML configuration file for the 300 series PCH
https://www.intel.com/content/www/us/en/products/docs/chipsets/300-series-chipset-pch-datasheet-vol-2.html
337348-001
-->

  <!-- #################################### -->
  <!--                                      -->
  <!-- Information                          -->
  <!--                                      -->
  <!-- #################################### -->
  <info>
    <sku did="0xA306" name="Q370" code="PCH_3xx" longname="Intel Q370 (300 series) PCH" />
    <sku did="0xA304" name="H370" code="PCH_3xx" longname="Intel H370 (300 series) PCH" />
    <sku did="0xA305" name="Z390" code="PCH_3xx" longname="Intel Z390 (300 series) PCH" />
    <sku did="0xA308" name="B360" code="PCH_3xx" longname="Intel B360 (300 series) PCH" />
    <sku did="0xA303" name="H310" code="PCH_3xx" longname="Intel H310 (300 series) PCH" />
    <sku did="0xA30A" name="C242" code="PCH_3xx" longname="Intel C242 (300 series) PCH" />
    <sku did="0xA309" name="C246" code="PCH_3xx" longname="Intel C246 (300 series) PCH" />
    <sku did="0xA30D" name="HM370" code="PCH_3xx" longname="Intel HM370 (300 series) PCH" />
    <sku did="0xA30C" name="QM370" code="PCH_3xx" longname="Intel QM370 (300 series) PCH" />
    <sku did="0xA30E" name="CM246" code="PCH_3xx" longname="Intel CM246 (300 series) PCH" />
  </info>

  <!-- #################################### -->
  <!--                                      -->
  <!-- Integrated devices                   -->
  <!--                                      -->
  <!-- #################################### -->
  <pci>
  </pci>

  <!-- #################################### -->
  <!--                                      -->
  <!-- Memory Mapped I/O spaces (MMIO BARs) -->
  <!--                                      -->
  <!-- #################################### -->
  <mmio>
  </mmio>

  <!-- #################################### -->
  <!--                                      -->
  <!-- I/O spaces (I/O BARs)                -->
  <!--                                      -->
  <!-- #################################### -->
  <io>
  </io>

  <!-- #################################### -->
  <!--                                      -->
  <!-- Memory ranges                        -->
  <!--                                      -->
  <!-- #################################### -->
  <memory>
  </memory>

  <!-- #################################### -->
  <!--                                      -->
  <!-- Configuration registers              -->
  <!--                                      -->
  <!-- #################################### -->
  <registers>

    <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
    <!-- PCIe Configuration registers -->
    <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->

    <!-- Sideband Register Access Registers -->
    <register name="SBREG_BAR" type="pcicfg" bus="0" dev="0x1F" fun="1" offset="0x10" size="4" desc="Sideband Register Access BAR">
      <field name="RBA" bit="24" size="8" desc="Register Base Address"/>
    </register>
    <register name="P2SBC" type="pcicfg" bus="0" dev="0x1F" fun="1" offset="0xE0" size="2" desc="P2SB Configuration Register">
      <field name="HIDE" bit="8" size="1" desc="Hide SBREG_BAR"/>
    </register>
    <register name="P2SB_HIDE" type="pcicfg" bus="0" dev="0x1F" fun="1" offset="0xE1" size="1" desc="P2SB Configuration Register hide-unhide">
      <field name="HIDE" bit="0" size="1" desc="Hide SBREG_BAR"/>
    </register>

    <!-- Power Management Controller -->
    <register name="ABASE" type="pcicfg" bus="0" dev="0x1f" fun="2" offset="0x20" size="4" desc="ACPI Base Address">
      <field name="STYPE" bit="0" size="1" desc="Space Type (always 1 - I/O space)"/>
      <field name="BA"    bit="7" size="25" desc="Base Address"/>
    </register>
    <register name="PWRMBASE" type="pcicfg" bus="0" dev="0x1f" fun="2" offset="0x10" size="8" desc="PM Base Address">
      <field name="STYPE" bit="0"  size="1"  desc="Space Type (always 0 - memory space)"/>
      <field name="BA"    bit="13" size="51" desc="Base Address"/>
    </register>
    <register name="GEN_PMCON_1" type="mmio" bar="PWRMBASE" offset="0x1020" size="4" desc="General PM Configuration A">
    </register>
    <register name="GEN_PMCON_2" type="mmio" bar="PWRMBASE" offset="0x1024" size="4" desc="General PM Configuration B">
      <field name="SMI_LOCK"    bit="4"     size="1"/>
    </register>
    <register name="ACTL" type="mmio" bar="PWRMBASE" offset="0x1BD8" size="4" desc="ACPI Control">
      <field name="SCIS"    bit="0" size="3" desc="SCI IRQ Select"/>
    </register>
    <register name="PM_CFG" type="mmio" bar="PWRMBASE" offset="0x1818" size="4" desc="Power Management Configuration Reg 1"/>

    <!-- SMBus Host Controller -->


    <!-- SPI Interface Controller -->


    <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
    <!-- MMIO registers               -->
    <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->

    <!-- PCH SPIBAR registers -->



    <!-- PCH RTC registers -->





  </registers>


  <!-- #################################### -->
  <!--                                      -->
  <!-- 'Controls'                           -->
  <!--                                      -->
  <!-- #################################### -->
  <controls>
    <control name="BiosInterfaceLockDown"  register="BC"    field="BILD"    desc="BIOS Interface Lock-Down"/>
    <control name="SpiWriteStatusDis"      register="HSFS"  field="WRSDIS"  desc="Write Status Disable"/>
    <control name="SMILock"                register="GEN_PMCON_2"  field="SMI_LOCK"  desc="SMI Global Configuration Lock"/>
  </controls>

</configuration>
